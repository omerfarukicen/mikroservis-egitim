<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>RabbitMQ ve Apache Kafka - Kubernetes Türkçe</title> <link rel="shortcut icon" href="/k8s-docs/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/k8s-docs/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/k8s-docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/k8s-docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>RabbitMQ ve Apache Kafka | Kubernetes Türkçe</title> <meta name="generator" content="Jekyll v4.2.1" /> <meta property="og:title" content="RabbitMQ ve Apache Kafka" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Kubernetes Türkçe başlangıç eğitimi ve temel içerikler." /> <meta property="og:description" content="Kubernetes Türkçe başlangıç eğitimi ve temel içerikler." /> <link rel="canonical" href="http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/rabbitmq-kafka.html" /> <meta property="og:url" content="http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/rabbitmq-kafka.html" /> <meta property="og:site_name" content="Kubernetes Türkçe" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="RabbitMQ ve Apache Kafka" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Kubernetes Türkçe başlangıç eğitimi ve temel içerikler.","headline":"RabbitMQ ve Apache Kafka","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/k8s-docs/kaynaklar/kubernetes.png"}},"url":"http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/rabbitmq-kafka.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/k8s-docs/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/k8s-docs/" class="nav-list-link">Ana Sayfa</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/k8s-docs/docs/01-mikroservis_giris/" class="nav-list-link">Mikroservis Giriş</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/01-mikroservis_giris/monolitik.html" class="nav-list-link">Monolitik uygulama analizi</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/01-mikroservis_giris/mikroservis.html" class="nav-list-link">Mikroservis çözümü</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/01-mikroservis_giris/miniservis.html" class="nav-list-link">Mini Servis</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/k8s-docs/docs/02-mikroservis_ayrismasi/" class="nav-list-link">Mikroservis Ayrışması</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/02-mikroservis_ayrismasi/domain_driven_design.html" class="nav-list-link">Domain Driven Design</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/02-mikroservis_ayrismasi/iskabiliyetlerinegore.html" class="nav-list-link">Decompose by business capability</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/02-mikroservis_ayrismasi/stranger.html" class="nav-list-link">Decompose By Strangler</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/" class="nav-list-link">Mikroservislerde haberleşme</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/event_driven.html" class="nav-list-link">Event -Driven Architecture</a></li><li class="nav-list-item active"><a href="http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/rabbitmq-kafka.html" class="nav-list-link active">RabbitMQ ve Apache Kafka</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/apigateway.html" class="nav-list-link">ApiGateway Pattern</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/" class="nav-list-link">Diğer Kaynaklar</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/statefulsets.html" class="nav-list-link">StatefulSets</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/volumes.html" class="nav-list-link">Volumes</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/ingress.html" class="nav-list-link">Ingress</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/jobs-cronjobs.html" class="nav-list-link">Jobs & Cronjobs</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/kaynaklar-limitler.html" class="nav-list-link">Kaynaklar ve Limitler</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/daemonsets.html" class="nav-list-link">Daemonsets</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/hpa.html" class="nav-list-link">Yatay Pod Ölçekleme</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/04-kaynaklar-diger/yetkiler.html" class="nav-list-link">Yetkiler</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/k8s-docs/docs/05-onemli-kavramlar/" class="nav-list-link">Önemli Kaynaklar</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/05-onemli-kavramlar/label.html" class="nav-list-link">Etiketler</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/05-onemli-kavramlar/surekli-guncellemeler.html" class="nav-list-link">Sürekli Güncellemeler</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/05-onemli-kavramlar/canlilik-hazirlik.html" class="nav-list-link">Canlılık ve Hazırlık</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/05-onemli-kavramlar/taints-affinity.html" class="nav-list-link">İtme ve Çekme</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/" class="nav-list-link">Ek Araçlar</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/argocd.html" class="nav-list-link">ARGO-CD</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/dashboard.html" class="nav-list-link">Dashboard</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/helm.html" class="nav-list-link">Helm</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/metallb.html" class="nav-list-link">MetalLB</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/service-mesh.html" class="nav-list-link">Service Mesh</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/kubeadm.html" class="nav-list-link">kubeadm</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/06-ek-araclar/kustomize.html" class="nav-list-link">kustomize</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/k8s-docs/docs/07-gorevler/" class="nav-list-link">Görevler</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/07-gorevler/guvenlik.html" class="nav-list-link">Güvenlik</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/07-gorevler/lb-dis-servisler.html" class="nav-list-link">İç Yük Dengeleme</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/07-gorevler/logs.html" class="nav-list-link">Günlük Kayıtları</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/07-gorevler/best-practices.html" class="nav-list-link">İyi Pratikler</a></li><li class="nav-list-item "><a href="http://localhost:4000/k8s-docs/docs/07-gorevler/cka.html" class="nav-list-link">CKA Konuları</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Kubernetes Türkçe" aria-label="Search Kubernetes Türkçe" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/k8s-tr/k8s-docs/" class="site-button" > K8s Temel Eğitim on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/k8s-docs/docs/03-mikroservis_haberlesmesi/">Mikroservislerde haberleşme</a></li> <li class="breadcrumb-nav-list-item"><span>RabbitMQ ve Apache Kafka</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h2 id="rabbitmq"> <a href="#rabbitmq" class="anchor-heading" aria-labelledby="rabbitmq"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> RabbitMQ </h2> <p>RabbitMQ smart-broker /dumb consumer modelini kullanır. Yani burada cursor’ın nerede kaldığını broker bilmek zorundadır. Broker mesajın iletilip iletilmediğini kendisine ulaşan bir acknowledge sayesinde takip eder. Böylece mesajın consumer’a iletimi garanti altına alınmış olur.</p> <ul> <li> <p>Dezavantajları : Consumer’ların online olduğunu var sayar ve acknowledge gelmediği sürece mesajın durumunu beklemede olarak işaretler.Yüksek hacimli mesajlaşma için uygun olmayabilir.</p> </li> <li> <p>Avantajları : Genel amaçlı kullanım için uygundur. Farklı protokoller kullanmak istiyorsanız(AMQP 0–9–1, STOMP, MQTT, AMQP 1.0)</p> </li> </ul> <p><img src="./../kaynaklar/rabbit-mq.jpeg" alt="RabbitMQ" /></p> <h2 id="apache-kafka"> <a href="#apache-kafka" class="anchor-heading" aria-labelledby="apache-kafka"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Apache Kafka </h2> <p>Kafka dumb-broker / smart consumer modelini kullanılır. Bunun anlamı; broker kendisinden bir mesaj talep edildiğinde o mesajı verir ancak mesajın iletilip iletilmediği ile ilgilenmez veya queue içerisinde cursor’ın nerede kaldığını bilmez. Cursor’ın nerede kaldığını consumer bilmek zorundadır. Genellikle büyük ölçekli mesajlaşma uygulamalarında veya streaming uygulamalarında kullanılır. Yüksek trafik ve düşük gecikme(High throughput and low latency) sağladığı için çok hızlıdır.</p> <h3 id="kafka-topic"> <a href="#kafka-topic" class="anchor-heading" aria-labelledby="kafka-topic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Kafka Topic </h3> <p>Genel olarak, bir topic belirli bir alana veya birbiriyle ilişkili olan nesnelerin tutulacağı alana verilen bir isimlendirmedir. Producer’den gönderilen mesajların tutulduğu veri deposudur. Veritabanındaki tablo’ya benzer diyebiliriz. Topic’ler farklı türde mesajlar da barındırabilir.</p> <h3 id="partition--offset"> <a href="#partition--offset" class="anchor-heading" aria-labelledby="partition--offset"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Partition — Offset </h3> <p>Bir topic içerisindeki alt parçalardır. Bu parçalara “partitions” denir. Topic altındaki partitions sayısınını yapıya göre belirlemek gerekir. Partition üzerinde Offsetler bulunmaktadır. Incremental Id diyebiliriz.Mesajlar bu offset değerlerine göre okunmaktadır.</p> <h3 id="brokers"> <a href="#brokers" class="anchor-heading" aria-labelledby="brokers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Brokers </h3> <p>Topic’lerin çalıştığı sunuculara broker denir. Bir çok broker aynı anda çalışabilir. Bu da aslında Kafka Cluster(Master-Slave)’ını oluşturur. Her broker’ın kendisine ait bir Id’si (kimlik numarası) vardır. Genellikle kafka cluster’ları en az 3 broker’dan oluşur.Herhangi bir broker’a bağlandığınızda (bağlandığınız broker, bootstrap broker ismini alır)aslında tüm cluster’a bağlanmış olursunuz.Partion lideri olan bir broker var. Producer ve Consumer partion lideri olan broker gönderiliyor.Mesaj okunacaksada partion lideri olan brokerdan okunuyor.</p> <h3 id="producer"> <a href="#producer" class="anchor-heading" aria-labelledby="producer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Producer </h3> <p>Topic’lere mesajları gönderen uygulamalardır. Mesaj birimleri burada oluşur.</p> <ul> <li>ACK : 0 -&gt; “Fire and forget” yaklaşımında Producer herhangi bir yanıt beklemez yani onay (acknowledgment) almaz. Mesaj broker’a gönderildiğinde başarılı olarak alınıp alınmadığı umursanmaz. Herhangi bir yanıt beklenmediğinden oldukça hızlı çalışır. Not:Burada verinin kabolma riski vardır</li> <li>ACK : 1-&gt;“Synchronous send” yaklaşımında ise mesaj gönderildikten sonra, yanıt gelene kadar beklenir fakat bu yaklaşımın en büyük dezavantajı, yavaş çalışabilir olmasıdır çünkü yanıt gelene kadar beklenir.</li> <li>ACK : 2-&gt;“Asynchronous send” yaklaşımı için, diğer iki yaklaşımın ortası diyebiliriz. “Asynchronous send” de olduğu gibi, yanıt beklemez fakat “call-back” hizmeti vardır.Producer mesajı gönderirken, parametre olarak “CallBack” interface’inden türetilen bir sınıfı verirseniz, bu sınıfın ilişkisel metoduna kafka’dan yanıt geldiğinde geri çağrım yapılacaktır.</li> </ul> <h3 id="consumer"> <a href="#consumer" class="anchor-heading" aria-labelledby="consumer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Consumer </h3> <p>Consumer, topic’e yazılan veriyi okur. Okuma işlemini yaparken de partition içerisindeki offset sırasına-kuralına göre yapar.</p> <h3 id="zookeeper"> <a href="#zookeeper" class="anchor-heading" aria-labelledby="zookeeper"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Zookeeper </h3> <ul> <li>Broker’ları yönetir.</li> <li>Hangi partition’ın lider olacağına karar verir. Örneğin bir partition işlevini yitirdiğinde, bir başka partition’ın lider olması gerekir.</li> <li>Zookeeper, herhangi bir değişiklik olduğunda kafkaya bildirim gönderir, bilgilendirir. Örneğin bir topic oluşturulduğunda ya da bir broker çöktüğünde ya da bir topic silindiğinde.</li> <li>Zookeeper birden fazla instance olarak çalışabilir fakat yine birisinin lider olması gerekir.</li> </ul> <h3 id="yardımcı-linkler"> <a href="#yardımcı-linkler" class="anchor-heading" aria-labelledby="yardımcı-linkler"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Yardımcı Linkler </h3> <p><img src="./../kaynaklar/rabbitMQ-Kafka-Pulsar.jpeg" alt="RabbitMQ-Kafka-Pulsar" /></p> <ul> <li><a href="https://www.rabbitmq.com/documentation.html">https://www.rabbitmq.com/documentation.html</a></li> <li><a href="https://kafka.apache.org/documentation/">https://kafka.apache.org/documentation/</a></li> <li><a href="https://pulsar.apache.org/docs/2.11.x/">https://pulsar.apache.org/docs/2.11.x/</a></li> </ul> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Lisansı" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />Bu eser <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"> Creative Commons Atıf-AynıLisanslaPaylaş 4.0 Uluslararası Lisansı</a> ile lisanslanmıştır.</p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/k8s-tr/k8s-docs//tree/master/docs/docs/03-mikroservis_haberlesmesi/rabbitmq-kafka.md" id="edit-this-page">GitHub'ta düzenle.</a> </p> </div> </footer> </div> </div> <a href="#" id="search-button" class="search-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-search"></use></svg> </a> <div class="search-overlay"></div> </div> </body> </html>
