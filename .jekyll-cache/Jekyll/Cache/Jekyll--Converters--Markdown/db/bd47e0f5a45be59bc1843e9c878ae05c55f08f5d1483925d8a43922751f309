I"Ï<h2 id="rabbitmq">RabbitMQ</h2>

<p>RabbitMQ smart-broker /dumb consumer modelini kullanÄ±r. Yani burada cursorâ€™Ä±n nerede kaldÄ±ÄŸÄ±nÄ± broker bilmek zorundadÄ±r. Broker mesajÄ±n iletilip iletilmediÄŸini kendisine ulaÅŸan bir acknowledge sayesinde takip eder. BÃ¶ylece mesajÄ±n consumerâ€™a iletimi garanti altÄ±na alÄ±nmÄ±ÅŸ olur.</p>

<ul>
  <li>
    <p>DezavantajlarÄ± : Consumerâ€™larÄ±n online olduÄŸunu var sayar ve acknowledge gelmediÄŸi sÃ¼rece mesajÄ±n durumunu beklemede olarak iÅŸaretler.YÃ¼ksek hacimli mesajlaÅŸma iÃ§in uygun olmayabilir.</p>
  </li>
  <li>
    <p>AvantajlarÄ± : Genel amaÃ§lÄ± kullanÄ±m iÃ§in uygundur. FarklÄ± protokoller kullanmak istiyorsanÄ±z(AMQP 0â€“9â€“1, STOMP, MQTT, AMQP 1.0)</p>
  </li>
</ul>

<p><img src="./../kaynaklar/rabbit-mq.jpeg" alt="RabbitMQ" /></p>

<h2 id="apache-kafka">Apache Kafka</h2>

<p>Kafka dumb-broker / smart consumer modelini kullanÄ±lÄ±r. Bunun anlamÄ±; broker kendisinden bir mesaj talep edildiÄŸinde o mesajÄ± verir ancak mesajÄ±n iletilip iletilmediÄŸi ile ilgilenmez veya queue iÃ§erisinde cursorâ€™Ä±n nerede kaldÄ±ÄŸÄ±nÄ± bilmez. Cursorâ€™Ä±n nerede kaldÄ±ÄŸÄ±nÄ± consumer bilmek zorundadÄ±r. Genellikle bÃ¼yÃ¼k Ã¶lÃ§ekli mesajlaÅŸma uygulamalarÄ±nda veya streaming uygulamalarÄ±nda kullanÄ±lÄ±r.
YÃ¼ksek trafik ve dÃ¼ÅŸÃ¼k gecikme(High throughput and low latency) saÄŸladÄ±ÄŸÄ± iÃ§in Ã§ok hÄ±zlÄ±dÄ±r.</p>

<h3 id="kafka-topic">Kafka Topic</h3>

<p>Genel olarak, bir topic belirli bir alana veya birbiriyle iliÅŸkili olan nesnelerin tutulacaÄŸÄ± alana verilen bir isimlendirmedir. Producerâ€™den gÃ¶nderilen mesajlarÄ±n tutulduÄŸu veri deposudur. VeritabanÄ±ndaki tabloâ€™ya benzer diyebiliriz. Topicâ€™ler farklÄ± tÃ¼rde mesajlar da barÄ±ndÄ±rabilir.</p>

<h3 id="partition--offset">Partition â€” Offset</h3>

<p>Bir topic iÃ§erisindeki alt parÃ§alardÄ±r. Bu parÃ§alara â€œpartitionsâ€ denir. Topic altÄ±ndaki partitions sayÄ±sÄ±nÄ±nÄ± yapÄ±ya gÃ¶re belirlemek gerekir. Partition Ã¼zerinde Offsetler bulunmaktadÄ±r. Incremental Id diyebiliriz.Mesajlar bu offset deÄŸerlerine gÃ¶re okunmaktadÄ±r.</p>

<h3 id="brokers">Brokers</h3>

<p>Topicâ€™lerin Ã§alÄ±ÅŸtÄ±ÄŸÄ± sunuculara broker denir. Bir Ã§ok broker aynÄ± anda Ã§alÄ±ÅŸabilir. Bu da aslÄ±nda Kafka Cluster(Master-Slave)â€™Ä±nÄ± oluÅŸturur. Her brokerâ€™Ä±n kendisine ait bir Idâ€™si (kimlik numarasÄ±) vardÄ±r. Genellikle kafka clusterâ€™larÄ± en az 3 brokerâ€™dan oluÅŸur.Herhangi bir brokerâ€™a baÄŸlandÄ±ÄŸÄ±nÄ±zda (baÄŸlandÄ±ÄŸÄ±nÄ±z broker, bootstrap broker ismini alÄ±r)aslÄ±nda tÃ¼m clusterâ€™a baÄŸlanmÄ±ÅŸ olursunuz.Partion lideri olan bir broker var. Producer ve Consumer partion lideri olan broker gÃ¶nderiliyor.Mesaj okunacaksada partion lideri olan brokerdan okunuyor.</p>

<h3 id="producer">Producer</h3>

<p>Topicâ€™lere mesajlarÄ± gÃ¶nderen uygulamalardÄ±r. Mesaj birimleri burada oluÅŸur.</p>

<ul>
  <li>ACK : 0 -&gt; â€œFire and forgetâ€ yaklaÅŸÄ±mÄ±nda Producer herhangi bir yanÄ±t beklemez yani onay (acknowledgment) almaz. Mesaj brokerâ€™a gÃ¶nderildiÄŸinde baÅŸarÄ±lÄ± olarak alÄ±nÄ±p alÄ±nmadÄ±ÄŸÄ± umursanmaz. Herhangi bir yanÄ±t beklenmediÄŸinden oldukÃ§a hÄ±zlÄ± Ã§alÄ±ÅŸÄ±r.
Not:Burada verinin kabolma riski vardÄ±r</li>
  <li>ACK : 1-&gt;â€œSynchronous sendâ€ yaklaÅŸÄ±mÄ±nda ise mesaj gÃ¶nderildikten sonra, yanÄ±t gelene kadar beklenir fakat bu yaklaÅŸÄ±mÄ±n en bÃ¼yÃ¼k dezavantajÄ±, yavaÅŸ Ã§alÄ±ÅŸabilir olmasÄ±dÄ±r Ã§Ã¼nkÃ¼ yanÄ±t gelene kadar beklenir.</li>
  <li>ACK : 2-&gt;â€œAsynchronous sendâ€ yaklaÅŸÄ±mÄ± iÃ§in, diÄŸer iki yaklaÅŸÄ±mÄ±n ortasÄ± diyebiliriz. â€œAsynchronous sendâ€ de olduÄŸu gibi, yanÄ±t beklemez fakat â€œcall-backâ€ hizmeti vardÄ±r.Producer mesajÄ± gÃ¶nderirken, parametre olarak â€œCallBackâ€ interfaceâ€™inden tÃ¼retilen bir sÄ±nÄ±fÄ± verirseniz, bu sÄ±nÄ±fÄ±n iliÅŸkisel metoduna kafkaâ€™dan yanÄ±t geldiÄŸinde geri Ã§aÄŸrÄ±m yapÄ±lacaktÄ±r.</li>
</ul>

<h3 id="consumer">Consumer</h3>

<p>Consumer, topicâ€™e yazÄ±lan veriyi okur. Okuma iÅŸlemini yaparken de partition iÃ§erisindeki offset sÄ±rasÄ±na-kuralÄ±na gÃ¶re yapar.</p>

<h3 id="zookeeper">Zookeeper</h3>

<ul>
  <li>Brokerâ€™larÄ± yÃ¶netir.</li>
  <li>Hangi partitionâ€™Ä±n lider olacaÄŸÄ±na karar verir. Ã–rneÄŸin bir partition iÅŸlevini yitirdiÄŸinde, bir baÅŸka partitionâ€™Ä±n lider olmasÄ± gerekir.</li>
  <li>Zookeeper, herhangi bir deÄŸiÅŸiklik olduÄŸunda kafkaya bildirim gÃ¶nderir, bilgilendirir. Ã–rneÄŸin bir topic oluÅŸturulduÄŸunda ya da bir broker Ã§Ã¶ktÃ¼ÄŸÃ¼nde ya da bir topic silindiÄŸinde.</li>
  <li>Zookeeper birden fazla instance olarak Ã§alÄ±ÅŸabilir fakat yine birisinin lider olmasÄ± gerekir.</li>
</ul>

<h3 id="yardÄ±mcÄ±-linkler">YardÄ±mcÄ± Linkler</h3>

<p><img src="./../kaynaklar/rabbitMQ-Kafka-Pulsar.jpeg" alt="RabbitMQ-Kafka-Pulsar" /></p>

<ul>
  <li><a href="https://www.rabbitmq.com/documentation.html">https://www.rabbitmq.com/documentation.html</a></li>
  <li><a href="https://kafka.apache.org/documentation/">https://kafka.apache.org/documentation/</a></li>
  <li><a href="https://pulsar.apache.org/docs/2.11.x/">https://pulsar.apache.org/docs/2.11.x/</a></li>
</ul>
:ET